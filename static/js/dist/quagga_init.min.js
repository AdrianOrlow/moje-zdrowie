var Quagga=window.Quagga,App={_scanner:null,init:function(){this.attachListeners()},decode:function(e){Quagga.decoder({readers:["ean_reader"]}).locator({patchSize:"medium"}).fromSource(e,{size:800}).toPromise().then(function(e){document.querySelector("#ean").value=e.codeResult.code,search()}).catch(function(){document.querySelector("#ean").value="Nie znaleziono"}).then(function(){this.attachListeners()}.bind(this))},attachListeners:function(){var e=this,t=document.querySelector("#scan"),n=document.querySelector("#imageLoader");t.addEventListener("click",function e(c){c.preventDefault(),t.removeEventListener("click",e),n.click()}),n.addEventListener("change",function t(c){c.preventDefault(),n.removeEventListener("change",t),c.target.files&&c.target.files.length&&e.decode(c.target.files[0])})}};App.init();